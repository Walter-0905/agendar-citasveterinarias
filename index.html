<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agenda de Citas Veterinarias</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Agendar Cita Veterinaria</h1>
        <div class="form-container">
            <form id="appointment-form" action="#" method="post" enctype="multipart/form-data">
                <div class="form-group">
                    <label for="pet-name">Nombre de la Mascota:</label>
                    <input type="text" id="pet-name" name="pet-name" required>
                </div>
                <div class="form-group">
                    <label for="pet-species">Especie:</label>
                    <input type="text" id="pet-species" name="pet-species" required>
                </div>
                <div class="form-group">
                    <label for="pet-breed">Raza:</label>
                    <input type="text" id="pet-breed" name="pet-breed" required>
                </div>
                <div class="form-group">
                    <label for="service">Servicio:</label>
                    <select id="service" name="service" required>
                        <option value="checkup">Chequeo General</option>
                        <option value="vaccination">Vacunación</option>
                        <option value="surgery">Cirugía</option>
                        <option value="grooming">Baño y Acicalamiento</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="appointment-date">Fecha:</label>
                    <input type="date" id="appointment-date" name="appointment-date" required>
                </div>
                <div class="form-group">
                    <label for="appointment-time">Hora:</label>
                    <input type="time" id="appointment-time" name="appointment-time" required>
                </div>
                <div class="form-group">
                    <label for="pet-photo">Foto de la Mascota:</label>
                    <input type="file" id="pet-photo" name="pet-photo" accept="image/*" required onchange="previewImage(event)">
                </div>
                <button type="submit" onclick="addAppointment(event)">Agendar Cita</button>
            </form>
            <div class="image-preview">
                <img id="image-preview" src="" alt="Vista previa de la mascota">
            </div>
        </div>
        <div class="appointments-list">
            <h2>Citas Agendadas</h2>
            <ul id="appointments"></ul>
        </div>
    </div>
    <script>
        // Función para previsualizar la imagen de la mascota
        function previewImage(event) {
            const reader = new FileReader();
            const imagePreview = document.getElementById('image-preview');

            reader.onload = function() {
                imagePreview.src = reader.result;
            }

            reader.readAsDataURL(event.target.files[0]);
        }

        // Función para agregar una cita a la lista
        function addAppointment(event) {
            event.preventDefault(); // Prevenir el envío del formulario

            const form = document.getElementById('appointment-form');
            const formData = new FormData(form);

            // Crear una entrada para la cita
            const appointment = `
                <li>
                    <p><strong>Nombre de la Mascota:</strong> ${formData.get('pet-name')}</p>
                    <p><strong>Especie:</strong> ${formData.get('pet-species')}</p>
                    <p><strong>Raza:</strong> ${formData.get('pet-breed')}</p>
                    <p><strong>Servicio:</strong> ${formData.get('service')}</p>
                    <p><strong>Fecha:</strong> ${formData.get('appointment-date')}</p>
                    <p><strong>Hora:</strong> ${formData.get('appointment-time')}</p>
                    <img src="${URL.createObjectURL(formData.get('pet-photo'))}" class="appointment-photo">
                </li>
            `;

            // Añadir la cita a la lista
            const appointmentsList = document.getElementById('appointments');
            appointmentsList.insertAdjacentHTML('beforeend', appointment);

            // Limpiar el formulario
            form.reset();
            document.getElementById('image-preview').src = '';
        }
    </script>
</body>
</html>

